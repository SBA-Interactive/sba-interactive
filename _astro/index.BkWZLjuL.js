import{r as d}from"./index.CKXsKoUk.js";const m={some:0,all:1};function v(c,a,{root:f,margin:l,amount:t="some"}={}){const g=d(c),n=new WeakMap,h=o=>{o.forEach(e=>{const r=n.get(e.target);if(e.isIntersecting!==!!r)if(e.isIntersecting){const i=a(e.target,e);typeof i=="function"?n.set(e.target,i):s.unobserve(e.target)}else typeof r=="function"&&(r(e),n.delete(e.target))})},s=new IntersectionObserver(h,{root:f,rootMargin:l,threshold:typeof t=="number"?t:m[t]});return g.forEach(o=>s.observe(o)),()=>s.disconnect()}export{v as i};
