import{ar as B,a6 as O,a9 as D,w as R,o as g,ak as q,as as Z,at as J,au as Q,av as W,g as X,aw as m,a4 as U,ax as x,ay as ee,e as ae,az as se,aA as re,aB as te,$ as ie,aC as fe,aD as ue,aE as le,aF as oe,aG as ce,aH as ne}from"./render.gbzwjF-y.js";import{t as ve,c as _e,s as de}from"./class.DaYBs8-c.js";function be(e,s){var a=void 0,r;B(()=>{a!==(a=s())&&(r&&(O(r),r=null),a&&(r=D(()=>{R(()=>a(e))})))})}function C(e,s={},a,r){for(var t in a){var v=a[t];s[t]!==v&&(a[t]==null?e.style.removeProperty(t):e.style.setProperty(t,v,r))}}function he(e,s,a,r){var t=e.__style;if(g||t!==s){var v=ve(s,r);(!g||v!==e.getAttribute("style"))&&(v==null?e.removeAttribute("style"):e.style.cssText=v),e.__style=s}else r&&(Array.isArray(r)?(C(e,a?.[0],r[0]),C(e,a?.[1],r[1],"important")):C(e,a,r));return r}function M(e,s,a=!1){if(e.multiple){if(s==null)return;if(!q(s))return Z();for(var r of e.options)r.selected=s.includes(H(r));return}for(r of e.options){var t=H(r);if(J(t,s)){r.selected=!0;return}}(!a||s!==void 0)&&(e.selectedIndex=-1)}function ye(e){var s=new MutationObserver(()=>{M(e,e.__value)});s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{s.disconnect()})}function H(e){return"__value"in e?e.__value:e.value}const T=Symbol("class"),w=Symbol("style"),Y=Symbol("is custom element"),j=Symbol("is html");function Ae(e){if(g){var s=!1,a=()=>{if(!s){if(s=!0,e.hasAttribute("value")){var r=e.value;I(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var t=e.checked;I(e,"checked",null),e.checked=t}}};e.__on_r=a,ie(a),fe()}}function ge(e,s){s?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function I(e,s,a,r){var t=z(e);g&&(t[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")||t[s]!==(t[s]=a)&&(s==="loading"&&(e[oe]=a),a==null?e.removeAttribute(s):typeof a!="string"&&F(e).includes(s)?e[s]=a:e.setAttribute(s,a))}function pe(e,s,a,r,t=!1,v=!1){if(g&&t&&e.tagName==="INPUT"){var b=e,k=b.type==="checkbox"?"defaultChecked":"defaultValue";k in a||Ae(b)}var h=z(e),_=h[Y],y=!h[j];let p=g&&_;p&&U(!1);var u=s||{},N=e.tagName==="OPTION";for(var d in s)d in a||(a[d]=null);a.class?a.class=_e(a.class):a[T]&&(a.class=null),a[w]&&(a.style??=null);var E=F(e);for(const i in a){let f=a[i];if(N&&i==="value"&&f==null){e.value=e.__value="",u[i]=f;continue}if(i==="class"){var S=e.namespaceURI==="http://www.w3.org/1999/xhtml";de(e,S,f,r,s?.[T],a[T]),u[i]=f,u[T]=a[T];continue}if(i==="style"){he(e,f,s?.[w],a[w]),u[i]=f,u[w]=a[w];continue}var c=u[i];if(!(f===c&&!(f===void 0&&e.hasAttribute(i)))){u[i]=f;var P=i[0]+i[1];if(P!=="$$")if(P==="on"){const n={},A="$$"+i;let l=i.slice(2);var L=ce(l);if(x(l)&&(l=l.slice(0,-7),n.capture=!0),!L&&c){if(f!=null)continue;e.removeEventListener(l,u[A],n),u[A]=null}if(f!=null)if(L)e[`__${l}`]=f,ae([l]);else{let G=function(K){u[i].call(this,K)};u[A]=ee(l,e,G,n)}else L&&(e[`__${l}`]=void 0)}else if(i==="style")I(e,i,f);else if(i==="autofocus")se(e,!!f);else if(!_&&(i==="__value"||i==="value"&&f!=null))e.value=e.__value=f;else if(i==="selected"&&N)ge(e,f);else{var o=i;y||(o=re(o));var $=o==="defaultValue"||o==="defaultChecked";if(f==null&&!_&&!$)if(h[i]=null,o==="value"||o==="checked"){let n=e;const A=s===void 0;if(o==="value"){let l=n.defaultValue;n.removeAttribute(o),n.defaultValue=l,n.value=n.__value=A?l:null}else{let l=n.defaultChecked;n.removeAttribute(o),n.defaultChecked=l,n.checked=A?l:!1}}else e.removeAttribute(i);else $||E.includes(o)&&(_||typeof f!="string")?(e[o]=f,o in h&&(h[o]=te)):typeof f!="function"&&I(e,o,f)}}}return p&&U(!0),u}function Te(e,s,a=[],r=[],t=[],v,b=!1,k=!1){W(t,a,r,h=>{var _=void 0,y={},p=e.nodeName==="SELECT",u=!1;if(B(()=>{var d=s(...h.map(X)),E=pe(e,_,d,v,b,k);u&&p&&"value"in d&&M(e,d.value);for(let c of Object.getOwnPropertySymbols(y))d[c]||O(y[c]);for(let c of Object.getOwnPropertySymbols(d)){var S=d[c];c.description===m&&(!_||S!==_[c])&&(y[c]&&O(y[c]),y[c]=D(()=>be(e,()=>S))),E[c]=S}_=E}),p){var N=e;R(()=>{M(N,_.value,!0),ye(N)})}u=!0})}function z(e){return e.__attributes??={[Y]:e.nodeName.includes("-"),[j]:e.namespaceURI===ue}}var V=new Map;function F(e){var s=e.getAttribute("is")||e.nodeName,a=V.get(s);if(a)return a;V.set(s,a=[]);for(var r,t=e,v=Element.prototype;v!==t;){r=ne(t);for(var b in r)r[b].set&&a.push(b);t=le(t)}return a}export{Te as a,I as b,Ae as r,he as s};
